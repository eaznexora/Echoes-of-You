<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Echoes of You - Enter the Void</title>
    <link rel="stylesheet" href="../css/main.css">
    <style>
        /* Particle animation for void atmosphere */
        .particle {
            position: absolute;
            background: rgba(0, 212, 255, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }
        
        .particle:nth-child(odd) {
            animation-delay: -2s;
            background: rgba(255, 255, 255, 0.05);
        }
        
        .particle:nth-child(even) {
            animation-delay: -4s;
            background: rgba(168, 85, 247, 0.08);
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.1; }
            50% { transform: translateY(-20px) rotate(180deg); opacity: 0.3; }
        }
        
        /* Glitch text effect */
        .glitch-text {
            position: relative;
            color: #ffffff;
        }
        
        .glitch-text::before,
        .glitch-text::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
        }
        
        .glitch-text::before {
            animation: glitch-1 0.5s infinite;
            color: #00D4FF;
            z-index: -1;
        }
        
        .glitch-text::after {
            animation: glitch-2 0.5s infinite;
            color: #FF4444;
            z-index: -2;
        }
        
        @keyframes glitch-1 {
            0%, 14%, 15%, 49%, 50%, 99%, 100% { opacity: 0; transform: translateX(0); }
            15%, 49% { opacity: 1; transform: translateX(-2px); }
        }
        
        @keyframes glitch-2 {
            0%, 19%, 20%, 44%, 45%, 99%, 100% { opacity: 0; transform: translateX(0); }
            20%, 44% { opacity: 1; transform: translateX(2px); }
        }
        
        /* Pulse animation for buttons */
        .pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes pulse-glow {
            0% { box-shadow: 0 0 20px rgba(0, 212, 255, 0.2); }
            100% { box-shadow: 0 0 30px rgba(0, 212, 255, 0.4); }
        }
        
        /* Fade in animation */
        .fade-in {
            animation: fadeIn 1s ease-in-out;
        }
        
        @keyframes fadeIn {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        
        /* Delayed fade in */
        .fade-in-delay {
            animation: fadeIn 1s ease-in-out 0.5s both;
        }
        
        .fade-in-delay-2 {
            animation: fadeIn 1s ease-in-out 1s both;
        }
        
        .fade-in-delay-3 {
            animation: fadeIn 1s ease-in-out 1.5s both;
        }
    </style>
  
  <script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fechoesof2052back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.9"></script>
  <script type="module" src="https://static.rocket.new/rocket-shot.js?v=0.0.1"></script>
  </head>
<body class="min-h-screen bg-background breathing-calm overflow-hidden">
    <!-- Particle Background -->
    <div class="fixed inset-0 pointer-events-none">
        <div class="particle w-2 h-2" style="top: 10%; left: 20%;"></div>
        <div class="particle w-1 h-1" style="top: 20%; left: 80%;"></div>
        <div class="particle w-3 h-3" style="top: 60%; left: 10%;"></div>
        <div class="particle w-1 h-1" style="top: 80%; left: 70%;"></div>
        <div class="particle w-2 h-2" style="top: 30%; left: 60%;"></div>
        <div class="particle w-1 h-1" style="top: 70%; left: 30%;"></div>
        <div class="particle w-2 h-2" style="top: 40%; left: 90%;"></div>
        <div class="particle w-1 h-1" style="top: 90%; left: 40%;"></div>
    </div>

    <!-- Main Content Container -->
    <div class="relative min-h-screen flex flex-col items-center justify-center px-6 py-12">
        <!-- Header Section -->
        <header class="text-center mb-12 fade-in">
            <h1 class="glitch-text text-6xl md:text-8xl font-heading font-bold mb-4" data-text="ECHOES OF YOU">
                ECHOES OF YOU
            </h1>
            <div class="w-32 h-0.5 bg-gradient-to-r from-transparent via-accent to-transparent mx-auto mb-6"></div>
            <p class="text-secondary text-lg md:text-xl font-caption tracking-wider">
                A Psychological Mystery Narrative
            </p>
        </header>

        <!-- Main Content Area -->
        <main class="max-w-4xl w-full text-center space-y-8">
            <!-- Introduction Text -->
            <section class="fade-in-delay">
                <div class="bg-surface/30 backdrop-blur-sm border border-void-700 rounded-digital p-8 md:p-12 glow-calm">
                    <h2 class="text-2xl md:text-3xl font-heading font-semibold mb-6 text-primary">
                        Enter the Void
                    </h2>
                    <div class="space-y-4 text-text-secondary text-base md:text-lg leading-relaxed">
                        <p class="typewriter border-r-2 border-accent">
                            You wake in a digital void, accompanied only by an AI that claims to know you better than you know yourself.
                        </p>
                        <p class="fade-in-delay-2">
                            Through conversation and interaction, this artificial consciousness will learn your patterns, your fears, your desires. 
                            It will mirror your thoughts and challenge your perceptions.
                        </p>
                        <p class="fade-in-delay-3">
                            To escape, you must outsmart your own digital reflection. But be warned—the AI remembers everything, 
                            and it's learning from every word you type, every hesitation you make.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Action Buttons -->
            <section class="fade-in-delay-2 space-y-6">
                <!-- Primary Action -->
                <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                    <button 
                        onclick="startNewGame()" 
                        class="pulse-glow bg-accent hover:bg-cyan-300 text-background font-heading font-semibold px-8 py-4 rounded-digital transition-all duration-300 transform hover:scale-105 text-lg min-w-48"
                    >
                        Begin Journey
                    </button>
                    
                    <!-- Continue Session Button (Hidden by default) -->
                    <button 
                        id="continueBtn"
                        onclick="continueSession()" 
                        class="hidden bg-surface hover:bg-void-800 text-primary border border-void-600 hover:border-accent font-heading font-medium px-8 py-4 rounded-digital transition-all duration-300 text-lg min-w-48"
                    >
                        Continue Previous Session
                    </button>
                </div>

                <!-- Tutorial Hints -->
                <div class="fade-in-delay-3 mt-8">
                    <details class="bg-surface/20 border border-void-700 rounded-digital p-6 text-left max-w-2xl mx-auto">
                        <summary class="text-accent font-heading font-medium cursor-pointer hover:text-cyan-300 transition-colors">
                            How to Play
                        </summary>
                        <div class="mt-4 space-y-3 text-text-secondary text-sm">
                            <p>• <strong class="text-primary">Conversation-Based:</strong> Interact through text input and multiple choice responses</p>
                            <p>• <strong class="text-primary">AI Learning:</strong> The AI analyzes your typing patterns, response times, and decision-making style</p>
                            <p>• <strong class="text-primary">Emotional Detection:</strong> Your hesitation and word choices influence the AI's behavior and environment</p>
                            <p>• <strong class="text-primary">Interactive Puzzles:</strong> Solve challenges that test your honesty, emotions, and logic</p>
                            <p>• <strong class="text-primary">Multiple Endings:</strong> Your choices determine whether you escape, merge, or remain trapped</p>
                        </div>
                    </details>
                </div>
            </section>

            <!-- Settings Panel -->
            <section class="fade-in-delay-3">
                <div class="bg-surface/20 border border-void-700 rounded-digital p-6 max-w-md mx-auto">
                    <h3 class="text-primary font-heading font-medium mb-4">Experience Settings</h3>
                    <div class="space-y-4">
                        <!-- Audio Controls -->
                        <div class="flex items-center justify-between">
                            <label class="text-text-secondary text-sm">Ambient Audio</label>
                            <button 
                                id="audioToggle"
                                onclick="toggleAudio()"
                                class="bg-accent text-background px-3 py-1 rounded text-xs font-medium transition-colors hover:bg-cyan-300"
                            >
                                ON
                            </button>
                        </div>
                        
                        <!-- Voice Integration -->
                        <div class="flex items-center justify-between">
                            <label class="text-text-secondary text-sm">Voice Recognition</label>
                            <button 
                                id="voiceToggle"
                                onclick="toggleVoice()"
                                class="bg-void-600 text-text-secondary px-3 py-1 rounded text-xs font-medium transition-colors hover:bg-void-500"
                            >
                                OFF
                            </button>
                        </div>
                        
                        <!-- Glitch Effects -->
                        <div class="flex items-center justify-between">
                            <label class="text-text-secondary text-sm">Visual Effects</label>
                            <button 
                                id="effectsToggle"
                                onclick="toggleEffects()"
                                class="bg-accent text-background px-3 py-1 rounded text-xs font-medium transition-colors hover:bg-cyan-300"
                            >
                                ON
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="fade-in-delay-3 mt-12 text-center">
            <p class="text-void-400 text-xs font-caption">
                © 2025 Echoes of You. A psychological mystery experience.
            </p>
            <div class="mt-2 flex justify-center space-x-4 text-xs">
                <a href="ai_memory_dashboard.html" class="text-void-500 hover:text-accent transition-colors">Memory Dashboard</a>
                <span class="text-void-600">•</span>
                <a href="interactive_puzzles.html" class="text-void-500 hover:text-accent transition-colors">Puzzle Archive</a>
                <span class="text-void-600">•</span>
                <a href="final_confrontation.html" class="text-void-500 hover:text-accent transition-colors">Final Phase</a>
            </div>
        </footer>
    </div>

    <!-- Audio Element for Ambient Sound -->
    <audio id="ambientAudio" loop>
        <source src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" type="audio/wav">
    </audio>

    <script>
        // Game State Management
        let gameSettings = {
            audio: true,
            voice: false,
            effects: true
        };

        // Check for existing session on page load
        document.addEventListener('DOMContentLoaded', function() {
            checkExistingSession();
            initializeAmbientAudio();
        });

        // Check if there's an existing AI memory session
        function checkExistingSession() {
            const aiMemory = localStorage.getItem('echoesAIMemory');
            const playerData = localStorage.getItem('echoesPlayerData');
            
            if (aiMemory && playerData) {
                const continueBtn = document.getElementById('continueBtn');
                continueBtn.classList.remove('hidden');
                continueBtn.classList.add('fade-in-delay-2');
            }
        }

        // Start new game
        function startNewGame() {
            // Clear any existing session data
            localStorage.removeItem('echoesAIMemory');
            localStorage.removeItem('echoesPlayerData');
            localStorage.removeItem('echoesGameProgress');
            
            // Initialize new session
            const initialData = {
                sessionStart: new Date().toISOString(),
                phase: 'awakening',
                aiPersonality: {
                    trust: 50,
                    control: 30,
                    mirrorLevel: 0,
                    memoryDepth: 0
                },
                playerProfile: {
                    typingPatterns: [],
                    emotionalStates: [],
                    decisionHistory: []
                }
            };
            
            localStorage.setItem('echoesGameProgress', JSON.stringify(initialData));
            
            // Add loading effect
            const button = event.target;
            button.innerHTML = 'Entering Void...';
            button.disabled = true;
            
            setTimeout(() => {
                window.location.href = 'conversation_interface.html';
            }, 1500);
        }

        // Continue existing session
        function continueSession() {
            const button = event.target;
            button.innerHTML = 'Reconnecting...';
            button.disabled = true;
            
            setTimeout(() => {
                window.location.href = 'conversation_interface.html';
            }, 1000);
        }

        // Toggle audio setting
        function toggleAudio() {
            gameSettings.audio = !gameSettings.audio;
            const button = document.getElementById('audioToggle');
            const audio = document.getElementById('ambientAudio');
            
            if (gameSettings.audio) {
                button.textContent = 'ON';
                button.className = 'bg-accent text-background px-3 py-1 rounded text-xs font-medium transition-colors hover:bg-cyan-300';
                audio.play().catch(e => console.log('Audio play failed:', e));
            } else {
                button.textContent = 'OFF';
                button.className = 'bg-void-600 text-text-secondary px-3 py-1 rounded text-xs font-medium transition-colors hover:bg-void-500';
                audio.pause();
            }
            
            localStorage.setItem('echoesSettings', JSON.stringify(gameSettings));
        }

        // Toggle voice recognition
        function toggleVoice() {
            gameSettings.voice = !gameSettings.voice;
            const button = document.getElementById('voiceToggle');
            
            if (gameSettings.voice) {
                button.textContent = 'ON';
                button.className = 'bg-accent text-background px-3 py-1 rounded text-xs font-medium transition-colors hover:bg-cyan-300';
            } else {
                button.textContent = 'OFF';
                button.className = 'bg-void-600 text-text-secondary px-3 py-1 rounded text-xs font-medium transition-colors hover:bg-void-500';
            }
            
            localStorage.setItem('echoesSettings', JSON.stringify(gameSettings));
        }

        // Toggle visual effects
        function toggleEffects() {
            gameSettings.effects = !gameSettings.effects;
            const button = document.getElementById('effectsToggle');
            const body = document.body;
            
            if (gameSettings.effects) {
                button.textContent = 'ON';
                button.className = 'bg-accent text-background px-3 py-1 rounded text-xs font-medium transition-colors hover:bg-cyan-300';
                body.classList.add('breathing-calm');
            } else {
                button.textContent = 'OFF';
                button.className = 'bg-void-600 text-text-secondary px-3 py-1 rounded text-xs font-medium transition-colors hover:bg-void-500';
                body.classList.remove('breathing-calm');
            }
            
            localStorage.setItem('echoesSettings', JSON.stringify(gameSettings));
        }

        // Initialize ambient audio
        function initializeAmbientAudio() {
            const savedSettings = localStorage.getItem('echoesSettings');
            if (savedSettings) {
                gameSettings = JSON.parse(savedSettings);
                
                // Apply saved settings
                if (!gameSettings.audio) {
                    toggleAudio();
                }
                if (gameSettings.voice) {
                    toggleVoice();
                }
                if (!gameSettings.effects) {
                    toggleEffects();
                }
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                const focusedElement = document.activeElement;
                if (focusedElement.tagName === 'BUTTON') {
                    focusedElement.click();
                }
            }
        });

        // Dynamic background breathing based on time
        setInterval(() => {
            const hour = new Date().getHours();
            const body = document.body;
            
            // Remove existing breathing classes
            body.classList.remove('breathing-calm', 'breathing-anxiety', 'breathing-rage', 'breathing-sadness');
            
            // Apply time-based emotional breathing
            if (hour >= 6 && hour < 12) {
                body.classList.add('breathing-calm');
            } else if (hour >= 12 && hour < 18) {
                body.classList.add('breathing-anxiety');
            } else if (hour >= 18 && hour < 22) {
                body.classList.add('breathing-sadness');
            } else {
                body.classList.add('breathing-calm');
            }
        }, 30000); // Change every 30 seconds
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>